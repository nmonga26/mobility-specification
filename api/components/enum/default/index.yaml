search: &search
  context: &search_context
    action: &search_context_action
      - &search_context_action_0
        code: search
        description: Buyer app indicates the search intent
        reference: <PR/Issue/Discussion Links md format text>
    location: &search_context_location
      country: &search_context_location_country
        code: &search_context_location_country_code
          - &search_context_location_country_code_0
            code: IND
            description: Represents the country
            reference: <PR/Issue/Discussion Links md format text>
      city: &search_context_location_city
        code: &search_context_location_city_code
          - &search_context_location_city_code_0
            code: std:080
            description: Bangalore
            reference: <PR/Issue/Discussion Links md format text>
    domain: &search_context_domain
      - &search_context_domain_0
        code: ONDC:TRV11
        description: mobility domain Public Transit
        reference: <PR/Issue/Discussion Links md format text>
  message: &search_message
    intent: &search_message_intent
      fulfillment: &search_message_intent_fulfillment
        vehicle: &search_message_intent_fulfillment_vehicle
          category: &search_message_intent_fulfillment_vehicle_category
            - &search_message_intent_fulfillment_vehicle_category_0
              code: BUS
              description: Describes the vehicle category as Bus
              reference: <PR/Issue/Discussion Links md format text
            - &search_message_intent_fulfillment_vehicle_category_1
              code: METRO
              description: Describes the vehicle category as Metro
              reference: <PR/Issue/Discussion Links md format text
          variant: &search_message_intent_fulfillment_vehicle_variant
            - &search_message_intent_fulfillment_vehicle_variant_0
              code: AC
              description: Describes the vehicle varint as AC Bus
              reference: <PR/Issue/Discussion Links md format text
            - &search_message_intent_fulfillment_vehicle_variant_1
              code: NON_AC
              description: Describes the vehicle varint as NON_AC Bus
              reference: <PR/Issue/Discussion Links md format text
        type: &search_message_intent_fulfillment_type
          - &search_message_intent_fulfillment_type_0
            code: ROUTE
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
          - &search_message_intent_fulfillment_type_1
            code: TRIP
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
          - &search_message_intent_fulfillment_type_2
            code: TICKET
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
          - &search_message_intent_fulfillment_type_3
            code: PASS
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
          - &search_message_intent_fulfillment_type_4
            code: STOPS
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
        stops: &search_message_intent_fulfillment_stops
          type: &search_message_intent_fulfillment_stops_type
            - &search_message_intent_fulfillment_stops_type_0
              code: START
              description: Describes the initial fulfillment location.
              reference: <PR/Issue/Discussion Links md format text
            - &search_message_intent_fulfillment_stops_type_1
              code: END
              description: Describes the final fulfillment location.
              reference: <PR/Issue/Discussion Links md format text
            - &search_message_intent_fulfillment_stops_type_2
              code: INTERMEDIATE_STOP
              description: Describes the intermediate stops during fulfillment.
              reference: <PR/Issue/Discussion Links md format text
            - &search_message_intent_fulfillment_stops_type_3
              code: TRANSIT_STOP
              description: Describes the transit stops during fulfillment.
              reference: <PR/Issue/Discussion Links md format text
          authorization: &search_message_intent_fulfillment_stops_authorization
            type: &search_message_intent_fulfillment_stops_authorization_type
              - &search_message_intent_fulfillment_stops_authorization_type_0
                code: OTP
                description:
                  Describes OTP as an authorization mechanism used to start or end
                  the fulfillment of an order.
                reference: <PR/Issue/Discussion Links md format text
              - &search_message_intent_fulfillment_stops_authorization_type_1
                code: QR
                description:
                  Describes QR as an authorization mechanism used to start or end the
                  fulfillment of an order.
                reference: <PR/Issue/Discussion Links md format text
              - &search_message_intent_fulfillment_stops_authorization_type_2
                code: VEHICLE_NUMBER
                description: Describes vehcile number based authorization mechanism.
                reference: <PR/Issue/Discussion Links md format text
            status:
              &search_message_intent_fulfillment_stops_authorization_status
              - &search_message_intent_fulfillment_stops_authorization_status_0
                code: UNCLAIMED
                description: Describes current status of ticket as unclaimed.
                reference: <PR/Issue/Discussion Links md format text
              - &search_message_intent_fulfillment_stops_authorization_status_1
                code: CLAIMED
                description: Describes current status of ticket as claimed.
                reference: <PR/Issue/Discussion Links md format text
              - &search_message_intent_fulfillment_stops_authorization_status_2
                code: EXPIRED
                description: Describes current status of ticket as expired.
                reference: <PR/Issue/Discussion Links md format text
        state: &search_message_intent_fulfillment_state
          descriptor: &search_message_intent_fulfillment_state_descriptor
            code: &search_message_intent_fulfillment_state_descriptor_code
              - &search_message_intent_fulfillment_state_descriptor_code_0
                code: INACTIVE
                description: Describes the type of fulfillment.
                reference: <PR/Issue/Discussion Links md format text
              - &search_message_intent_fulfillment_state_descriptor_code_1
                code: ACTIVE
                description: Describes the type of fulfillment.
                reference: <PR/Issue/Discussion Links md format text
on_search: &on_search
  context: &on_search_context
    action: &on_search_context_action
      - &on_search_context_action_0
        code: on_search
        description: Seller app provides catalog based on search intent.
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: &on_search_message
    catalog: &on_search_message_catalog
      providers: &on_search_message_catalog_providers
        categories: &on_search_message_catalog_providers_categories
          descriptor: &on_search_message_catalog_providers_categories_descriptor
            code:
              &on_search_message_catalog_providers_categories_descriptor_code
              - &on_search_message_catalog_providers_categories_descriptor_code_0
                code: SEATER
                description: Represents type of bus seats available
                reference: <PR/Issue/Discussion Links md format text
              - &on_search_message_catalog_providers_categories_descriptor_code_1
                code: SLEEPER
                description: Represents type of bus seats available
                reference: <PR/Issue/Discussion Links md format text
              - &on_search_message_catalog_providers_categories_descriptor_code_2
                code: SEMI_SLEEPER
                description: Represents type of bus seats available
                reference: <PR/Issue/Discussion Links md format text
              - &on_search_message_catalog_providers_categories_descriptor_code_3
                code: TICKET
                description: Represents type of category
                reference: <PR/Issue/Discussion Links md format text
              - &on_search_message_catalog_providers_categories_descriptor_code_4
                code: PASS
                description: Represents type of category
                reference: <PR/Issue/Discussion Links md format text
        items: &on_search_message_catalog_providers_items
          descriptor: &on_search_message_catalog_providers_items_descriptor
            code: &on_search_message_catalog_providers_items_descriptor_code
              - &on_search_message_catalog_providers_items_descriptor_code_0
                code: SJT
                description: Describes the kind of ticket Single Journey Ticket
                reference: <PR/Issue/Discussion Links md format text
              - &on_search_message_catalog_providers_items_descriptor_code_1
                code: SFSJT
                description: Describes the kind of ticket special fair Single Journey Ticket
                reference: <PR/Issue/Discussion Links md format text
              - &on_search_message_catalog_providers_items_descriptor_code_2
                code: RJT
                description: Describes the kind of ticket Return Journey Ticket
                reference: <PR/Issue/Discussion Links md format text
              - &on_search_message_catalog_providers_items_descriptor_code_3
                code: PASS
                description: Describes the kind of ticket Pass (multiple use ticket)
                reference: <PR/Issue/Discussion Links md format text
        fulfillments: *search_message_intent_fulfillment
        payments: &on_search_message_catalog_providers_payments
          status: &on_search_message_catalog_providers_payments_status
            - &on_search_message_catalog_providers_payments_status_0
              code: NOT-PAID
              description:
                NOT-PAID indicates a payment status where the payment process has
                not been completed.
              reference: <PR/Issue/Discussion Links md format text
            - &on_search_message_catalog_providers_payments_status_1
              code: PAID
              description:
                PAID indicates a payment status where the payment process has been
                successfully completed.
              reference: <PR/Issue/Discussion Links md format text
          collected_by:
            &on_search_message_catalog_providers_payments_collected_by
            - &on_search_message_catalog_providers_payments_collected_by_0
              code: BPP
              description: Describes when the seller app is collecting the payment.
              reference: <PR/Issue/Discussion Links md format text
            - &on_search_message_catalog_providers_payments_collected_by_1
              code: BAP
              description: Describes when the buyer app is collecting the payment.
              reference: <PR/Issue/Discussion Links md format text
          type: &on_search_message_catalog_providers_payments_type
            - &on_search_message_catalog_providers_payments_type_0
              code: PRE-ORDER
              description: Payment occurs prior to order placement.
              reference: <PR/Issue/Discussion Links md format text
            - &on_search_message_catalog_providers_payments_type_1
              code: ON-FULFILLMENT
              description: Payment occurs upon completion of the journey.
              reference: <PR/Issue/Discussion Links md format text
            - &on_search_message_catalog_providers_payments_type_2
              code: POST-FULFILLMENT
              description: Payment occurs after the completion of the journey.
              reference: <PR/Issue/Discussion Links md format text
select: &select
  context: &select_context
    action: &select_context_action
      - &select_context_action_0
        code: select
        description: Buyer app communicates selected items and quantities.
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: &select_message
    order: &select_message_order
      items: *on_search_message_catalog_providers_items
      fulfillments: *search_message_intent_fulfillment
      quote: &select_message_order_quote
        breakup: &select_message_order_quote_breakup
          title: &select_message_order_quote_breakup_title
            - &select_message_order_quote_breakup_title_0
              code: BASE_FARE
              description: Describes the base price of an item.
              reference: <PR/Issue/Discussion Links md format text
            - &select_message_order_quote_breakup_title_1
              code: REFUND
              description: Describes the refund amount for an item.
              reference: <PR/Issue/Discussion Links md format text
            - &select_message_order_quote_breakup_title_2
              code: CANCELLATION_CHARGES
              description: Describes the CANCELLATION_CHARGES for an item.
              reference: <PR/Issue/Discussion Links md format text
            - &select_message_order_quote_breakup_title_3
              code: OFFER
              description: Describes the Offer for an item.
              reference: <PR/Issue/Discussion Links md format text
            - &select_message_order_quote_breakup_title_4
              code: TOLL
              description: Describes the Toll charges for an item.
              reference: <PR/Issue/Discussion Links md format text
on_select: &on_select
  context: &on_select_context
    action: &on_select_context_action
      - &on_select_context_action_0
        code: on_select
        description:
          Seller app provides serviceability info, quotes, and O2D TAT for
          selected items.
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: *select_message
init: &init
  context: &init_context
    action: &init_context_action
      - &init_context_action_0
        code: init
        description: Buyer and seller apps confirm terms & conditions before placing orders.
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: *select_message
on_init: &on_init
  context: &on_init_context
    action: &on_init_context_action
      - &on_init_context_action_0
        code: on_init
        description:
          Buyer and seller apps agree to terms & conditions before placing
          orders.
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: &on_init_message
    order: &on_init_message_order
      items: *on_search_message_catalog_providers_items
      fulfillments: *search_message_intent_fulfillment
      payments: *on_search_message_catalog_providers_payments
      quote: *select_message_order_quote
confirm: &confirm
  context: &confirm_context
    action: &confirm_context_action
      - &confirm_context_action_0
        code: confirm
        description: Buyer app submits orders on behalf of the buyer.
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message:
    order:
      items: *on_search_message_catalog_providers_items
      fulfillments: *search_message_intent_fulfillment
      payments: *on_search_message_catalog_providers_payments
      quote: *select_message_order_quote
      
on_confirm: &on_confirm
  context: &on_confirm_context
    action: &on_confirm_context_action
      - &on_confirm_context_action_0
        code: on_confirm
        description:
          Seller app responds to the order with auto-acceptance, deferred
          acceptance, or rejection.
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: &confirm_message
    order: &confirm_message_order
      items: *on_search_message_catalog_providers_items
      fulfillments: *search_message_intent_fulfillment
      payments: *on_search_message_catalog_providers_payments
      quote: *select_message_order_quote
      status: &select_message_order_status
        - &select_message_order_status_0
          code: SOFT_CANCEL
          description:
            Describes a soft-cancel request initiated by the buyer app, a step
            preceding cancellation.
          reference: <PR/Issue/Discussion Links md format text
        - &select_message_order_status_1
          code: ACTIVE
          description: Describes the status of the order.
          reference: <PR/Issue/Discussion Links md format text
        - &select_message_order_status_2
          code: COMPLETE
          description: Describes the status of the order.
          reference: <PR/Issue/Discussion Links md format text
        - &select_message_order_status_3
          code: CANCELLED
          description: Describes the status of the order.
          reference: <PR/Issue/Discussion Links md format text
        - &select_message_order_status_4
          code: CANCEL_INITIATED
          description: Describes if the cancel has been initiated.
          reference: <PR/Issue/Discussion Links md format text
status: &status
  context: &status_context
    action: &status_context_action
      - &status_context_action_0
        code: status
        description: Buyer app request for status of the order
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
on_status: &on_status
  context: &on_status_context
    action: &on_status_context_action
      - &on_status_context_action_0
        code: on_status
        description: Seller app return order with status , Driver pickup - driver drop
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: *confirm_message
cancel: &cancel
  context: &cancel_context
    action: &cancel_context_action
      - &cancel_context_action_0
        code: cancel
        description: Buyer app requests order cancellation."
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: &cancel_message
    descriptor: &cancel_message_descriptor
      code: &cancel_message_descriptor_code
        - &cancel_message_descriptor_code_0
          code: SOFT-CANCEL
          description:
            Describes a soft-cancel request initiated by the buyer app, a step
            preceding cancellation.
          reference: <PR/Issue/Discussion Links md format text
        - &cancel_message_descriptor_code_1
          code: CONFIRM-CANCEL
          description:
            Describes a confirm-cancel request initiated by the buyer app,
            confirming the order cancellation
          reference: <PR/Issue/Discussion Links md format text
on_cancel: &on_cancel
  context: &on_cancel_context
    action: &on_cancel_context_action
      - &on_cancel_context_action_0
        code: on_cancel
        description: Seller app specifies the cancellation status.
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message:
    order:  
      <<: *confirm_message_order
      cancellation:
        cancelled_by:
          - code: CONSUMER
            description: Describes cancelled by CONSUMER
            reference: <PR/Issue/Discussion Links md format text>
          - code: PROVIDER
            description: Describes cancelled by PROVIDER
            reference: <PR/Issue/Discussion Links md format text> 
           

update: &update
  context: &update_context
    action: &update_context_action
      - &update_context_action_0
        code: update
        description: Buyer app requests order update."
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: *on_init_message
on_update: &on_update
  context: &on_update_context
    action: &on_update_context_action
      - &on_update_context_action_0
        code: on_cancel
        description: Seller app specifies the update status.
        reference: <PR/Issue/Discussion Links md format text>
    location: *search_context_location
    domain: *search_context_domain
  message: *confirm_message
